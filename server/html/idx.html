<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Gateway - Material 3</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Google Fonts: Roboto & Material Symbols Rounded (Rounded feels more M3) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />

    <!-- Devicon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"
    />

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Roboto", "sans-serif"],
              mono: ["JetBrains Mono", "monospace"],
            },
            // Strict Material 3 Color Tokens
            colors: {
              m3: {
                light: {
                  primary: "#005AC1",
                  onPrimary: "#FFFFFF",
                  primaryContainer: "#D8E2FF",
                  onPrimaryContainer: "#001A41",
                  secondary: "#575E71",
                  secondaryContainer: "#DUE2F9",
                  tertiary: "#715573",
                  surface: "#F9F9FF",
                  surfaceDim: "#D9D9E0",
                  surfaceContainerLowest: "#FFFFFF",
                  surfaceContainerLow: "#F3F3FA",
                  surfaceContainer: "#EDEDF4",
                  surfaceContainerHigh: "#E7E8EE",
                  surfaceContainerHighest: "#E2E2E9",
                  onSurface: "#191C20",
                  onSurfaceVariant: "#44474F",
                  outline: "#74777F",
                  outlineVariant: "#C4C6CF",
                },
                dark: {
                  primary: "#ADC6FF",
                  onPrimary: "#002E69",
                  primaryContainer: "#004494",
                  onPrimaryContainer: "#D8E2FF",
                  surface: "#111318",
                  surfaceDim: "#111318",
                  surfaceContainerLowest: "#0C0E13",
                  surfaceContainerLow: "#191C20",
                  surfaceContainer: "#1E2025",
                  surfaceContainerHigh: "#282A2F",
                  surfaceContainerHighest: "#33353A",
                  onSurface: "#E2E2E9",
                  onSurfaceVariant: "#C4C6CF",
                  outline: "#8E9099",
                  outlineVariant: "#44474F",
                },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* Base Reset & Transition */
      body {
        background-color: #f9f9ff; /* m3.light.surface */
        color: #191c20; /* m3.light.onSurface */
        transition: background-color 0.4s cubic-bezier(0.05, 0.7, 0.1, 1),
          color 0.4s;
        -webkit-tap-highlight-color: transparent;
      }

      html.dark body {
        background-color: #111318; /* m3.dark.surface */
        color: #e2e2e9;
      }

      /* Material 3 Card (Elevated & Filled variants merged) */
      .m3-card {
        background-color: #f3f3fa; /* Surface Container Low */
        border-radius: 24px; /* M3 Medium-Large shape */
        padding: 24px;
        transition: background-color 0.2s ease, transform 0.2s ease,
          box-shadow 0.2s ease;
        border: 1px solid transparent; /* Space for outline */
      }

      html.dark .m3-card {
        background-color: #1e2025;
      }

      /* M3 State Layer (Hover) */
      .m3-interactive {
        position: relative;
        overflow: hidden;
      }
      .m3-interactive::before {
        content: "";
        position: absolute;
        inset: 0;
        background-color: currentColor;
        opacity: 0;
        transition: opacity 0.2s ease;
        pointer-events: none;
        z-index: 0;
      }
      .m3-interactive:hover::before {
        opacity: 0.08; /* 8% Opacity on hover per spec */
      }
      .m3-interactive:active::before {
        opacity: 0.12;
      }

      /* M3 Typography Scale */
      .type-display-large {
        font-size: 57px;
        line-height: 64px;
        letter-spacing: -0.25px;
      }
      .type-display-medium {
        font-size: 45px;
        line-height: 52px;
        letter-spacing: 0px;
      }
      .type-headline-large {
        font-size: 32px;
        line-height: 40px;
        letter-spacing: 0px;
      }
      .type-headline-medium {
        font-size: 28px;
        line-height: 36px;
        letter-spacing: 0px;
      }
      .type-title-medium {
        font-size: 16px;
        line-height: 24px;
        letter-spacing: 0.15px;
        font-weight: 500;
      }
      .type-label-large {
        font-size: 14px;
        line-height: 20px;
        letter-spacing: 0.1px;
        font-weight: 500;
      }

      /* M3 Chips */
      .m3-chip {
        height: 32px;
        border-radius: 8px; /* Assist chip shape */
        display: inline-flex;
        align-items: center;
        padding: 0 12px;
        font-family: "Roboto", sans-serif;
        font-size: 14px;
        font-weight: 500;
        border: 1px solid transparent;
      }

      /* M3 Buttons */
      .m3-btn {
        height: 40px;
        border-radius: 20px; /* Full rounded */
        padding: 0 24px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-family: "Roboto", sans-serif;
        font-size: 14px;
        font-weight: 500;
        transition: box-shadow 0.2s;
      }
      .m3-btn-tonal {
        background-color: #d8e2ff; /* Primary Container */
        color: #001a41; /* On Primary Container */
      }
      html.dark .m3-btn-tonal {
        background-color: #004494;
        color: #d8e2ff;
      }
      .m3-btn-tonal:hover {
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
      }

      .m3-btn-outlined {
        border: 1px solid #74777f; /* Outline */
        color: #005ac1; /* Primary */
      }
      html.dark .m3-btn-outlined {
        border-color: #8e9099;
        color: #adc6ff;
      }

      /* Icon Button */
      .m3-icon-btn {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s;
      }
      .m3-icon-btn:hover {
        background-color: rgba(var(--on-surface-rgb), 0.08);
      }

      /* 3D Canvas */
      #canvas-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
        opacity: 0.4;
        mix-blend-mode: multiply; /* Blends better with surface */
      }
      html.dark #canvas-container {
        mix-blend-mode: screen;
        opacity: 0.3;
      }

      /* Utilities */
      .material-symbols-rounded {
        font-size: 24px;
      }
      .hidden-modal {
        opacity: 0;
        visibility: hidden;
        transform: scale(0.95);
      }
      .visible-modal {
        opacity: 1;
        visibility: visible;
        transform: scale(1);
      }

      /* Custom Scrollbar to match Surface */
      ::-webkit-scrollbar {
        width: 12px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background-color: #c4c6cf;
        border: 4px solid transparent;
        background-clip: content-box;
        border-radius: 99px;
      }
      html.dark ::-webkit-scrollbar-thumb {
        background-color: #44474f;
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col relative overflow-x-hidden">
    <!-- 3D Background -->
    <div id="canvas-container"></div>

    <!-- Theme Toggle (Icon Button) -->
    <div class="fixed top-6 right-6 z-50">
      <button
        onclick="cycleTheme()"
        class="m3-icon-btn bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant m3-interactive"
        title="Alternar Tema"
      >
        <span id="icon-sun" class="material-symbols-rounded hidden"
          >light_mode</span
        >
        <span id="icon-moon" class="material-symbols-rounded hidden"
          >dark_mode</span
        >
        <span id="icon-auto" class="material-symbols-rounded hidden"
          >brightness_auto</span
        >
      </button>
    </div>

    <!-- Snackbar (M3) -->
    <div
      id="toast"
      class="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 pointer-events-none opacity-0 translate-y-4 transition-all duration-400 ease-[cubic-bezier(0.2,0,0,1)]"
    >
      <div
        class="bg-m3-light-onSurface dark:bg-m3-dark-onSurface text-m3-light-surfaceContainerLowest dark:text-m3-dark-surfaceContainerLowest px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[320px]"
      >
        <span class="material-symbols-rounded text-green-300"
          >check_circle</span
        >
        <span class="text-sm font-medium tracking-wide"
          >Copiado para a área de transferência</span
        >
      </div>
    </div>

    <!-- Header (Center Aligned Top App Bar - Large) -->
    <header class="relative z-10 w-full pt-24 pb-12 px-4 text-center">
      <div class="max-w-4xl mx-auto flex flex-col items-center">
        <!-- Status Indicator (Custom Chip) -->
        <div
          class="inline-flex items-center gap-2 pl-2 pr-4 py-1 rounded-full bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh mb-6 border border-transparent"
        >
          <div
            class="w-2 h-2 rounded-full bg-green-500 animate-pulse ml-1"
          ></div>
          <span
            class="type-label-large text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
            >NGINX Operacional</span
          >
        </div>

        <!-- Headline -->
        <h1
          class="type-display-medium md:type-display-large font-normal text-m3-light-onSurface dark:text-m3-dark-onSurface mb-4 tracking-tight"
        >
          Redes de Computadores
        </h1>

        <p
          class="type-headline-small text-xl text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant mb-10 max-w-xl mx-auto font-light"
        >
          Gateway de serviços orquestrados acessível via
          <span
            id="host-display"
            class="font-mono text-sm bg-m3-light-secondaryContainer dark:bg-m3-dark-secondaryContainer text-m3-light-onSurface dark:text-m3-dark-onSurface px-2 py-1 rounded-md align-middle"
            >...</span
          >
        </p>

        <!-- Actions -->
        <div class="flex flex-wrap justify-center gap-3">
          <!-- Filled Tonal Button -->
          <a
            href="/main.pdf"
            target="_blank"
            class="m3-btn m3-btn-tonal m3-interactive text-m3-light-onPrimaryContainer dark:text-m3-dark-onPrimaryContainer"
          >
            <span class="material-symbols-rounded">description</span>
            Documentação
          </a>

          <!-- Outlined Button -->
          <button
            onclick="openModal()"
            class="m3-btn m3-btn-outlined m3-interactive"
          >
            <span class="material-symbols-rounded">groups</span>
            Equipe
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main
      class="relative z-10 flex-grow px-4 py-4 w-full max-w-5xl mx-auto flex flex-col gap-8"
    >
      <!-- Section 1: Applications -->
      <div>
        <div class="flex items-center gap-3 mb-4 px-1">
          <span
            class="material-symbols-rounded text-m3-light-primary dark:text-m3-dark-primary"
            >grid_view</span
          >
          <h2
            class="type-title-medium text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
          >
            Aplicações
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Moodle Card -->
          <a
            id="moodle-link"
            href="#"
            target="_blank"
            class="m3-card m3-interactive group flex flex-col relative text-m3-light-onSurface dark:text-m3-dark-onSurface"
          >
            <div
              class="absolute top-6 right-6 text-m3-light-outline dark:text-m3-dark-outline group-hover:text-m3-light-primary dark:group-hover:text-m3-dark-primary transition-colors"
            >
              <span class="material-symbols-rounded">open_in_new</span>
            </div>

            <div class="flex items-start gap-4 mb-6 z-10 relative">
              <div
                class="w-16 h-16 bg-[#fff3e0] rounded-xl flex items-center justify-center shrink-0"
              >
                <i class="devicon-moodle-plain text-4xl text-orange-500"></i>
              </div>
              <div class="pt-1">
                <h3 class="type-headline-medium font-normal">Moodle</h3>
                <p
                  class="type-label-large text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant mt-1"
                >
                  Virtual Learning Environment
                </p>
              </div>
            </div>

            <div class="flex gap-2 mb-8 z-10 relative">
              <span
                class="m3-chip bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                >PHP 8.1</span
              >
            </div>

            <div
              class="mt-auto pt-4 border-t border-m3-light-outlineVariant dark:border-m3-dark-outlineVariant flex justify-between items-center z-10 relative"
            >
              <div
                class="flex gap-3 text-xs font-mono text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant opacity-80"
              >
                <span>user: <b>admin</b></span>
                <span>pass: <b>admin123</b></span>
              </div>
              <div
                class="flex items-center gap-1.5 text-xs font-bold text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/40 px-2.5 py-1 rounded-full"
              >
                ONLINE
              </div>
            </div>
          </a>

          <!-- PetClinic Card -->
          <a
            id="petclinic-link"
            href="#"
            target="_blank"
            class="m3-card m3-interactive group flex flex-col relative text-m3-light-onSurface dark:text-m3-dark-onSurface"
          >
            <div
              class="absolute top-6 right-6 text-m3-light-outline dark:text-m3-dark-outline group-hover:text-m3-light-primary dark:group-hover:text-m3-dark-primary transition-colors"
            >
              <span class="material-symbols-rounded">open_in_new</span>
            </div>

            <div class="flex items-start gap-4 mb-6 z-10 relative">
              <div
                class="w-16 h-16 bg-[#e8f5e9] rounded-xl flex items-center justify-center shrink-0"
              >
                <i class="devicon-spring-original text-4xl text-green-600"></i>
              </div>
              <div class="pt-1">
                <h3 class="type-headline-medium font-normal">PetClinic</h3>
                <p
                  class="type-label-large text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant mt-1"
                >
                  Veterinary Management
                </p>
              </div>
            </div>

            <div class="flex gap-2 mb-8 z-10 relative">
              <span
                class="m3-chip bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                >Java 17</span
              >
              <span
                class="m3-chip bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                >REST</span
              >
            </div>

            <div
              class="mt-auto pt-4 border-t border-m3-light-outlineVariant dark:border-m3-dark-outlineVariant flex justify-between items-center z-10 relative"
            >
              <div
                class="flex gap-3 text-xs font-mono text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant opacity-80"
              >
                <span>API Available</span>
              </div>
              <div
                class="flex items-center gap-1.5 text-xs font-bold text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/40 px-2.5 py-1 rounded-full"
              >
                ONLINE
              </div>
            </div>
          </a>
        </div>
      </div>

      <!-- Section 2: Data & Tech -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <!-- Database Column -->
        <div class="lg:col-span-1 flex flex-col gap-4">
          <div class="flex items-center gap-3 px-1 mt-2">
            <span
              class="material-symbols-rounded text-m3-light-primary dark:text-m3-dark-primary"
              >database</span
            >
            <h2
              class="type-title-medium text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
            >
              Dados
            </h2>
          </div>

          <!-- Postgres -->
          <div
            class="m3-card p-5 flex flex-col gap-3 bg-m3-light-surfaceContainer dark:bg-m3-dark-surfaceContainer"
          >
            <div class="flex items-center gap-3">
              <i class="devicon-postgresql-plain text-2xl text-blue-500"></i>
              <span
                class="type-title-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
                >PostgreSQL</span
              >
            </div>
            <div
              onclick="copyToClipboard('pg-addr')"
              class="m3-interactive cursor-pointer flex items-center justify-between bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh rounded-xl px-4 py-3 mt-1 text-m3-light-onSurface dark:text-m3-dark-onSurface"
            >
              <code
                id="pg-addr"
                class="text-xs font-mono truncate select-all opacity-80"
                >loading...</code
              >
              <span
                class="material-symbols-rounded text-lg text-m3-light-primary dark:text-m3-dark-primary"
                >content_copy</span
              >
            </div>
          </div>

          <!-- MariaDB -->
          <div
            class="m3-card p-5 flex flex-col gap-3 bg-m3-light-surfaceContainer dark:bg-m3-dark-surfaceContainer"
          >
            <div class="flex items-center gap-3">
              <i
                class="devicon-mariadb-original text-2xl text-slate-500 dark:text-slate-300"
              ></i>
              <span
                class="type-title-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
                >MariaDB</span
              >
            </div>
            <div
              onclick="copyToClipboard('maria-addr')"
              class="m3-interactive cursor-pointer flex items-center justify-between bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh rounded-xl px-4 py-3 mt-1 text-m3-light-onSurface dark:text-m3-dark-onSurface"
            >
              <code
                id="maria-addr"
                class="text-xs font-mono truncate select-all opacity-80"
                >loading...</code
              >
              <span
                class="material-symbols-rounded text-lg text-m3-light-primary dark:text-m3-dark-primary"
                >content_copy</span
              >
            </div>
          </div>
        </div>

        <!-- Tech Stack Column -->
        <div class="lg:col-span-2 flex flex-col gap-4">
          <div class="flex items-center gap-3 px-1 mt-2">
            <span
              class="material-symbols-rounded text-m3-light-primary dark:text-m3-dark-primary"
              >layers</span
            >
            <h2
              class="type-title-medium text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
            >
              Stack
            </h2>
          </div>

          <div
            class="m3-card h-full flex items-center justify-center bg-m3-light-surfaceContainer dark:bg-m3-dark-surfaceContainer"
          >
            <div class="flex flex-wrap justify-center gap-8 md:gap-12 p-4">
              <div
                class="flex flex-col items-center gap-3 group cursor-default opacity-70 hover:opacity-100 transition-opacity"
              >
                <i
                  class="devicon-nginx-original text-4xl text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant group-hover:text-green-600 transition-colors"
                ></i>
                <span
                  class="text-xs font-medium tracking-wider text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                  >NGINX</span
                >
              </div>

              <div
                class="flex flex-col items-center gap-3 group cursor-default opacity-70 hover:opacity-100 transition-opacity"
              >
                <i
                  class="devicon-docker-plain text-4xl text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant group-hover:text-blue-600 transition-colors"
                ></i>
                <span
                  class="text-xs font-medium tracking-wider text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                  >DOCKER</span
                >
              </div>

              <div
                class="flex flex-col items-center gap-3 group cursor-default opacity-70 hover:opacity-100 transition-opacity"
              >
                <i
                  class="devicon-spring-original text-4xl text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant group-hover:text-green-600 transition-colors"
                ></i>
                <span
                  class="text-xs font-medium tracking-wider text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                  >SPRING</span
                >
              </div>

              <div
                class="flex flex-col items-center gap-3 group cursor-default opacity-70 hover:opacity-100 transition-opacity"
              >
                <i
                  class="devicon-apache-plain text-4xl text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant group-hover:text-red-600 transition-colors"
                ></i>
                <span
                  class="text-xs font-medium tracking-wider text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                  >APACHE</span
                >
              </div>

              <div
                class="flex flex-col items-center gap-3 group cursor-default opacity-70 hover:opacity-100 transition-opacity"
              >
                <div
                  class="w-9 h-9 flex items-center justify-center font-bold text-lg bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh rounded-lg text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant group-hover:text-cyan-600 transition-colors"
                >
                  t
                </div>
                <span
                  class="text-xs font-medium tracking-wider text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
                  >TYPST</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer
      class="relative z-10 mt-12 bg-m3-light-surfaceContainer dark:bg-m3-dark-surfaceContainer py-12 px-4 rounded-t-[32px]"
    >
      <div
        class="max-w-5xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-8"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 bg-white rounded-xl flex items-center justify-center p-2"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Logotipo_IFET.svg/1200px-Logotipo_IFET.svg.png"
              alt="IFSP Logo"
              class="w-full h-full object-contain"
            />
          </div>
          <div>
            <p
              class="type-title-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
            >
              IFSP - SBV
            </p>
            <p
              class="text-sm text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
            >
              Ciência da Computação
            </p>
          </div>
        </div>

        <div class="flex flex-col md:items-end gap-2 text-left md:text-right">
          <div
            class="text-sm text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant"
          >
            <span class="block md:inline">Fernanda Martins</span> &bull;
            <span class="block md:inline">Gabriel Maia</span> &bull;
            <span class="block md:inline">Samuel Oliveira</span>
          </div>

          <a
            href="#"
            class="m3-chip h-8 pl-2 pr-3 gap-2 bg-transparent hover:bg-m3-light-surfaceContainerHigh dark:hover:bg-m3-dark-surfaceContainerHigh transition-colors text-m3-light-primary dark:text-m3-dark-primary no-underline"
          >
            <span class="material-symbols-rounded text-[18px]">code</span>
            <span>GitHub Repo</span>
          </a>
        </div>
      </div>
    </footer>

    <!-- M3 Basic Dialog -->
    <div
      id="team-modal"
      class="fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm hidden-modal transition-all duration-300 p-4"
    >
      <div
        onclick="event.stopPropagation()"
        class="bg-m3-light-surfaceContainerHigh dark:bg-m3-dark-surfaceContainerHigh rounded-[28px] w-full max-w-xs shadow-2xl overflow-hidden flex flex-col transform transition-transform duration-300"
      >
        <div
          class="p-6 text-center border-b border-m3-light-outlineVariant dark:border-m3-dark-outlineVariant border-opacity-20"
        >
          <span
            class="material-symbols-rounded text-m3-light-primary dark:text-m3-dark-primary text-4xl mb-2"
            >diversity_3</span
          >
          <h3
            class="type-headline-small text-m3-light-onSurface dark:text-m3-dark-onSurface"
          >
            Colaboradores
          </h3>
          <p
            class="text-sm text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant mt-1"
          >
            Engenharia de Redes
          </p>
        </div>

        <div class="p-2">
          <div class="flex flex-col gap-1">
            <!-- List Item -->
            <div
              class="flex items-center gap-4 p-3 hover:bg-m3-light-surfaceContainerHighest dark:hover:bg-m3-dark-surfaceContainerHighest rounded-xl transition-colors cursor-default"
            >
              <div
                class="w-10 h-10 rounded-full bg-m3-light-primaryContainer dark:bg-m3-dark-primaryContainer text-m3-light-onPrimaryContainer dark:text-m3-dark-onPrimaryContainer flex items-center justify-center font-medium text-sm"
              >
                FM
              </div>
              <div class="flex-grow">
                <div
                  class="text-base font-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
                >
                  Fernanda Silva
                </div>
              </div>
            </div>
            <!-- List Item -->
            <div
              class="flex items-center gap-4 p-3 hover:bg-m3-light-surfaceContainerHighest dark:hover:bg-m3-dark-surfaceContainerHighest rounded-xl transition-colors cursor-default"
            >
              <div
                class="w-10 h-10 rounded-full bg-m3-light-tertiary dark:bg-m3-dark-tertiary text-white flex items-center justify-center font-medium text-sm"
              >
                GM
              </div>
              <div class="flex-grow">
                <div
                  class="text-base font-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
                >
                  Gabriel Maia
                </div>
              </div>
            </div>
            <!-- List Item -->
            <div
              class="flex items-center gap-4 p-3 hover:bg-m3-light-surfaceContainerHighest dark:hover:bg-m3-dark-surfaceContainerHighest rounded-xl transition-colors cursor-default"
            >
              <div
                class="w-10 h-10 rounded-full bg-m3-light-secondaryContainer dark:bg-m3-dark-secondaryContainer text-m3-light-onSurfaceVariant dark:text-m3-dark-onSurfaceVariant flex items-center justify-center font-medium text-sm"
              >
                SO
              </div>
              <div class="flex-grow">
                <div
                  class="text-base font-medium text-m3-light-onSurface dark:text-m3-dark-onSurface"
                >
                  Samuel Lopes
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="p-4 flex justify-end">
          <button
            onclick="closeModal()"
            class="text-m3-light-primary dark:text-m3-dark-primary font-medium text-sm px-4 py-2.5 rounded-full hover:bg-m3-light-surfaceContainerHighest dark:hover:bg-m3-dark-surfaceContainerHighest transition-colors"
          >
            Fechar
          </button>
        </div>
      </div>
    </div>

    <script>
      // --- 3D Background Setup (Three.js) ---
      let particleMaterial, lineMaterial;
      let currentThemeState = "auto";

      function init3DBackground() {
        const container = document.getElementById("canvas-container");
        if (!container) return;

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 50;

        const renderer = new THREE.WebGLRenderer({
          alpha: true,
          antialias: true,
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        const group = new THREE.Group();
        scene.add(group);

        const particleCount = 60; // Reduced for cleaner look
        const geometry = new THREE.BufferGeometry();
        const positions = new Float32Array(particleCount * 3);
        const velocities = [];

        for (let i = 0; i < particleCount; i++) {
          positions[i * 3] = (Math.random() - 0.5) * 100;
          positions[i * 3 + 1] = (Math.random() - 0.5) * 100;
          positions[i * 3 + 2] = (Math.random() - 0.5) * 50;
          velocities.push({
            x: (Math.random() - 0.5) * 0.05,
            y: (Math.random() - 0.5) * 0.05,
            z: (Math.random() - 0.5) * 0.02,
          });
        }
        geometry.setAttribute(
          "position",
          new THREE.BufferAttribute(positions, 3)
        );

        particleMaterial = new THREE.PointsMaterial({
          color: 0x74777f,
          size: 0.7,
          transparent: true,
          opacity: 0.6,
        });

        lineMaterial = new THREE.LineBasicMaterial({
          color: 0x74777f,
          transparent: true,
          opacity: 0.1,
        });

        const particles = new THREE.Points(geometry, particleMaterial);
        group.add(particles);

        update3DColors();

        function animate() {
          requestAnimationFrame(animate);
          const positions = particles.geometry.attributes.position.array;
          for (let i = 0; i < particleCount; i++) {
            positions[i * 3] += velocities[i].x;
            positions[i * 3 + 1] += velocities[i].y;
            positions[i * 3 + 2] += velocities[i].z;
            if (Math.abs(positions[i * 3]) > 50) velocities[i].x *= -1;
            if (Math.abs(positions[i * 3 + 1]) > 50) velocities[i].y *= -1;
            if (Math.abs(positions[i * 3 + 2]) > 25) velocities[i].z *= -1;
          }
          particles.geometry.attributes.position.needsUpdate = true;
          group.rotation.y += 0.001;
          group.rotation.x += 0.0005;
          renderer.render(scene, camera);
        }
        animate();

        window.addEventListener("resize", () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });
      }

      // --- Theme Logic ---
      function initTheme() {
        const savedTheme = localStorage.getItem("theme") || "auto";
        setTheme(savedTheme);
      }

      function cycleTheme() {
        let nextTheme;
        if (currentThemeState === "light") nextTheme = "dark";
        else if (currentThemeState === "dark") nextTheme = "auto";
        else nextTheme = "light";
        setTheme(nextTheme);
      }

      function setTheme(theme) {
        currentThemeState = theme;
        localStorage.setItem("theme", theme);

        let visualTheme = theme;
        if (theme === "auto") {
          visualTheme = window.matchMedia("(prefers-color-scheme: dark)")
            .matches
            ? "dark"
            : "light";
        }

        if (visualTheme === "dark") {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }

        // Icon Toggle Logic
        document.getElementById("icon-sun").classList.add("hidden");
        document.getElementById("icon-moon").classList.add("hidden");
        document.getElementById("icon-auto").classList.add("hidden");

        if (theme === "light")
          document.getElementById("icon-sun").classList.remove("hidden");
        else if (theme === "dark")
          document.getElementById("icon-moon").classList.remove("hidden");
        else document.getElementById("icon-auto").classList.remove("hidden");

        update3DColors();
      }

      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (e) => {
          if (currentThemeState === "auto") setTheme("auto");
        });

      function update3DColors() {
        if (!particleMaterial || !lineMaterial) return;
        const isDark = document.documentElement.classList.contains("dark");
        // M3 Primary
        const newColor = isDark ? 0xadc6ff : 0x005ac1;
        particleMaterial.color.setHex(newColor);
        lineMaterial.color.setHex(newColor);
      }

      // --- Main Init ---
      document.addEventListener("DOMContentLoaded", () => {
        init3DBackground();
        initTheme();

        const hostname = window.location.hostname;
        let port = window.location.port;
        // If no port in URL, use default for protocol
        if (!port) {
          port = window.location.protocol === "https:" ? "443" : "80";
        }
        // Only add :port if not default for protocol
        let hostWithPort = hostname;
        if (
          !(
            (window.location.protocol === "https:" && port === "443") ||
            (window.location.protocol === "http:" && port === "80")
          )
        ) {
          hostWithPort = `${hostname}:${port}`;
        }

        const hostDisplay = document.getElementById("host-display");
        if (hostDisplay) hostDisplay.textContent = hostWithPort;

        const protocol = window.location.protocol;
        document.getElementById(
          "moodle-link"
        ).href = `${protocol}//${hostWithPort}/moodle/`;
        document.getElementById(
          "petclinic-link"
        ).href = `${protocol}//${hostWithPort}/petclinic/`;

        document.getElementById(
          "pg-addr"
        ).innerText = `jdbc:postgresql://${hostname}:5432/petclinic`;
        document.getElementById(
          "maria-addr"
        ).innerText = `jdbc:mariadb://${hostname}:3306/moodle`;
      });

      // --- UI Actions ---
      function openModal() {
        const modal = document.getElementById("team-modal");
        modal.classList.remove("hidden-modal");
        modal.classList.add("visible-modal");
      }

      function closeModal() {
        const modal = document.getElementById("team-modal");
        modal.classList.remove("visible-modal");
        modal.classList.add("hidden-modal");
      }

      // Close modal on click outside
      document
        .getElementById("team-modal")
        .addEventListener("click", function (e) {
          if (e.target === this) closeModal();
        });

      function copyToClipboard(elementId) {
        const element = document.getElementById(elementId);
        if (!element) return;
        const text = element.innerText;

        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(text).then(showToast);
        } else {
          const textArea = document.createElement("textarea");
          textArea.value = text;
          document.body.appendChild(textArea);
          textArea.select();
          document.execCommand("copy");
          document.body.removeChild(textArea);
          showToast();
        }
      }

      function showToast() {
        const toast = document.getElementById("toast");
        toast.classList.remove("opacity-0", "translate-y-4");
        setTimeout(() => {
          toast.classList.add("opacity-0", "translate-y-4");
        }, 3000);
      }
    </script>
  </body>
</html>
